---
title: python基础
date: 2019年4月16日
tags: python
categories: python  
toc: true
---

1. #### python 前言

    - python能干嘛  
        写网站，游戏后台，博客，爬数据，我只想给用在写Verilog代码的时候，好多东西能够由脚本完成，提高效率，减少低级错误
    - 库  
        python有内置库（内置电池 batteries included），还有大量的第三方库  
    - 优点： 优雅、明确、简单      缺点： 速度慢，不能加密

2. #### 安装python 

   1. 在官网上下载python3.x ,直接安装
   2. 运行python，打开cmd命令行，输入python，回车,出现如下信息，表示安装成功

    ```
    Python 3.7.2 (tags/v3.7.2:9a3ffc0492, Dec 23 2018, 23:09:28) [MSC v.1916 64 bit (AMD64)] on win32
    Type "help", "copyright", "credits" or "license" for more information.
    ```

    ps. 官方python解释器：CPython，还有其他解释器，ex:IPython

3. #### python基础

    cmd就是命令行模式  
    在cmd输入python回车，就是python交互模式、输入exit()退出交互模式  
    \# 是注释符号，用缩进对齐表示代码块，语句以`:`结尾，缩进的语句视为代码块

    ##### 数据类型和变量

- 整数  
- 浮点数  
    即小数，浮点：依照科学计数法，小数点不固定，ex：12.6 x 10<sup>9</sup> == 1.26 x 10<sup>10</sup> == 1.26e10  
- 字符串  
    用‘’, “” , ` ``` ``` `，括起来的任意文本为字符串  
    转义字符`\`可以转义很多字符
    r开头的字符串，不转义
- 布尔值  
    只有`True`、`False`两种值,注意大小写  
    布尔值可以用`and`、`or`和`not`运算  
    空值是Python里一个特殊的值，用`None`表示。`None`不能理解为`0`，因为`0`是有意义的，而`None`是一个特殊的空值。
- 其他类型
    此外，Python还提供了列表、字典等多种数据类型，还允许创建自定义数据类型
- 变量  
    不用下划线和数字开头
- 常量  
    在Python中，通常用全部大写的变量名表示常量`PI = 3.14159265359`  
事实上`PI`仍然是一个变量，Python根本没有任何机制保证`PI`不会被改变，所以，用全部大写的变量名表示常量只是一个习惯上的用法，如果你一定要改变变量`PI`的值，也没人能拦住你.  
- 注意  
Python的整数没有大小限制,Python的浮点数也没有大小限制，但是超出一定范围就直接表示为`inf`（无限大）

    ##### 字符编码

    计算机是美国人发明的，最早只有127个字符被编码到计算机，这个编码表即为ASCII编码 `A ：65 ， z : 122`  
    美国 ASCII--->中文 GB2312, 日文Shift_JIS，韩文Euc-kr ---> unicode ---> 可变长编码 `UTF-8`

    ##### Python的字符串

    Python 3版本中，字符串是以Unicode编码  
    对于单个字符的编码，Python提供了`ord()`函数获取字符的整数表示，`chr()`函数把编码转换为对应的字符：  
    `>>> ord('A') --> 65`  
    `>>> ord('中') --> 20013`  
    `>>> chr(66) --> 'B'`  
    `>>> chr(25991) --> '文'`  
    如果知道字符的整数编码，还可以用十六进制这么写`str`：
    `'\u4e2d\u6587'` == `'中文'`
    两种写法完全是等价的。

  - 由于Python的字符串类型是`str`，在内存中以Unicode表示，一个字符对应若干个字节。如果要在网络上传输，或者保存到磁盘上，就需要把`str`变为以字节为单位的`bytes`  
    Python对`bytes`类型的数据用带`b`前缀的单引号或双引号表示：`x = b'ABC`
    要注意区分`'ABC'`和`b'ABC'`，前者是`str`，后者虽然内容显示得和前者一样，但`bytes`的每个字符都只占用一个字节。

  - 以Unicode表示的`str`通过`encode()`方法可以编码为指定的`bytes`  
    反过来，如果我们从网络或磁盘上读取了字节流，那么读到的数据就是`bytes`。要把`bytes`变为`str`，就需要用`decode()`方法  
    如果`bytes`中包含无法解码的字节，`decode()`方法会报错
    如果`bytes`中只有一小部分无效的字节，可以传入`errors='ignore'`忽略错误的字节

  - 要计算`str`包含多少个字符，可以用`len()`函数：  
    `len()`函数计算的是`str`的字符数，如果换成`bytes`，`len()`函数就计算字节数
  - 1个中文字符经过UTF-8编码后通常会占用3个字节，而1个英文字符只占用1个字节 
    在操作字符串时，我们经常遇到`str`和`bytes`的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对`str`和`bytes`进行转换。  
    `>>> '中文'.encode('utf-8')`  
    `b'\xe4\xb8\xad\xe6\x96\x87'`  
    `>>> b'\xe4\xb8\xad\xe6\x96\x87'.decode('utf-8')`  
    `'中文'`

  - 由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：  
    `#!/usr/bin/env python3`  
    `# -*- coding: utf-8 -*-`
    第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；  
    第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。  
    申明了UTF-8编码并不意味着你的`.py`文件就是UTF-8编码的，必须并且要确保文本编辑器正在使用UTF-8 without BOM编码：  

  - 格式化  
    最后一个常见的问题是如何输出格式化的字符串。我们经常会输出类似`'亲爱的xxx你好！你xx月的话费是xx，余额是xx'`之类的字符串，而xxx的内容都是根据变量变化的，所以，需要一种简便的格式化字符串的方式。  
    在Python中，采用的格式化方式和C语言是一致的，用`%`实现，举例如下：  
    `>>> 'Hello, %s' % 'world'` --> `'Hello, world'`  
    `>>> 'Hi, %s, you have $%d.' % ('Michael', 1000000)` ---> `'Hi, Michael, you have $1000000.'`  
    `%`运算符就是用来格式化字符串的。在字符串内部，`%s`表示用字符串替换，`%d`表示用整数替换，有几个`%?`占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个`%?`，括号可以省略。  
    常见的占位符有：%d:整数, %f:浮点数, %s:字符串.  %x:十六进制整数  
    其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数：  
    `%s`会把任何数据类型转换为字符串, 用`%%`来表示一个`%`  
    - format()  
    用传入的参数依次替换字符串内的占位符，不过这种方式写起来比%要麻烦得多：
